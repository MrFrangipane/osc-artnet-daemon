---
schema_version: 1
devices:

  - name: X-Touch
    midi_port_pattern: "X-Touch "
    controls:
      #
      # Layers Triggers
      - name: LayerA
        type: Button
        midi: { channel: 0, type: note_on, note: 54 }

      - name: LayerB
        type: Button
        midi: { channel: 0, type: note_on, note: 55 }
      #
      # Fader Banks
      - name: FaderBankLeft
        type: Button
        midi: { channel: 0, type: note_on, note: 46 }

      - name: FaderBankRight
        type: Button
        midi: { channel: 0, type: note_on, note: 47 }
      #
      # Faders
      - name: MasterFader
        type: Absolute
        midi: { channel: 8, type: pitchwheel }

      - name: Fader09
        type: Absolute
        midi: { channel: 0, type: pitchwheel }

      - name: Fader10
        type: Absolute
        midi: { channel: 1, type: pitchwheel }

      #
      # Toggle test
      - name: Toggle
        type: Toggle
        midi: { channel: 0, type: note_on, note: 56 }

  - name: X-Touch-Ext
    midi_port_pattern: "X-Touch-Ext "
    controls:
      #
      # Faders
      - name: Fader07
        type: Absolute
        midi: { channel: 6, type: pitchwheel }

      - name: Fader08
        type: Absolute
        midi: { channel: 7, type: pitchwheel }

#
# This will convert FaderXX -> FaderXX:0, FaderXX:1, FaderXX:2, ...
pagination:
  - name: "Faders"
    left: FaderBankLeft
    right: FaderBankRight
    page_count: 4
    controls:
      - Fader07
      - Fader08
      - Fader09
      - Fader10

#
# This will convert Fader07:0 -> Octostrip, OctostripSmooth
layer-groups:
  - name: Faders
    layers:
    - name: Dimmers
      trigger: LayerA
      controls:
        - name: Octostrip
          control: Fader07:0
          mapped_to: octostrip
        - name: Pars
          control: Fader08:0
          mapped_to: pars
        - name: Spots
          control: Fader09:0
          mapped_to: spots
        - name: Washes
          control: Fader10:0
          mapped_to: washes
    - name: Toggles
      trigger: LayerB
      controls:
        - name: OctostripSmooth
          control: Fader07:0
          mapped_to: toggle_octostrip_smooth
        - name: ParsStrobe
          control: Fader08:0
          mapped_to: toggle_octostrip_strobe
        - name: SpotsSmooth
          control: Fader07:1
          mapped_to: toggle_pars_smooth
        - name: WashesStrobe
          control: Fader08:1
          mapped_to: toggle_pars_strobe
